{{ define "main" }}
<main class="divide-y divide-slate-200 dark:divide-slate-200/5">
  <header class="pt-3 pb-9 space-y-2 md:space-y-5">
    <h1 class="text-3xl font-extrabold text-gray-900 dark:text-white racking-tight sm:text-4xl md:text-6xl">
      Featured Posts
    </h1>

    <div class="text-lg text-gray-500 dark:text-slate-300 space-y-3">
      <p>
        Over the years I’ve published a few dozen articles — some more noteworthy than others.
      </p>

      <p>Here are some of my personal favourites.</p>
    </div>
  </header>

  <div>
    <ul class="divide-y divide-slate-200 dark:divide-slate-200/5">
      {{ range $index, $post := (where .Site.RegularPages "Section" "posts") }}
        {{ if (or (eq $index 0) ($post.Params.featured)) }}
          <li class="py-6">
            {{ partial "posts/preview.html" $post }}
          </li>
        {{ end }}
      {{ end }}
    </ul>
  </div>
</main>

<div class="flex justify-end text-base font-medium leading-6 py-7">
  <a class="text-green-700 dark:text-green-500 hover:text-green-500 dark:hover:text-green-400 hover:underline" href="{{ "/posts/" | relURL}}">All Posts →</a>
</div>

{{ end }}
